<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Результаты теста</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="res1">
        <h1>Ваш результат</h1>
        <div class="res2" id="results"></div>    
        
        <div class="rep-button">
        <button  class="repeat-button" onclick="goBack()">Пройти тест заново</button>
        </div>
    </div>

    <script>
        function goBack() {
            window.location.href = '../index.html'; // Вернуться на главную страницу
        }

        function calculateResults() {
            const answers = {};
            const totalQuestions = 57; // Общее количество вопросов

            // Извлечение ответов из localStorage с использованием цикла
            for (let i = 1; i <= totalQuestions; i++) {
                answers[`q${i}`] = localStorage.getItem(`q${i}`);
            }

            // Подсчет баллов по показателям
            let scoreA = 0;
            let scoreB = 0;
            let scoreC = 0;

            // Показатель A
            if (answers.q6 === 'yes') scoreA += 1;
            if (answers.q24 === 'yes') scoreA += 1;
            if (answers.q36 === 'yes') scoreA += 1;
            if (answers.q12 === 'no') scoreA += 1;
            if (answers.q18 === 'no') scoreA += 1;
            if (answers.q30 === 'no') scoreA += 1;
            if (answers.q42 === 'no') scoreA += 1;
            if (answers.q48 === 'no') scoreA += 1;
            if (answers.q54 === 'no') scoreA += 1;

            // Показатель Б
            const indicatorBYesQuestions = [1, 3, 8, 10, 13, 17, 22, 25, 27, 39, 44, 46, 49, 53, 56];
            const indicatorBNoQuestions = [5, 15, 20, 29, 32, 34, 37, 41, 51];

            indicatorBYesQuestions.forEach(q => {
                if (answers[`q${q}`] === 'yes') scoreB += 1;
            });

            indicatorBNoQuestions.forEach(q => {
                if (answers[`q${q}`] === 'no') scoreB += 1;
            });

            // Показатель В
            const indicatorCQuestions = [2, 4, 7, 9, 11, 14, 16, 19, 21, 23, 26, 28, 31, 33, 35, 38, 40, 43, 45, 47, 50, 52, 55, 57];
            indicatorCQuestions.forEach(q => {
                if (answers[`q${q}`] === 'yes') {
                    scoreC += 1;
                }
            });

            // Проверка на недостоверные результаты
            let resultMessage = '';
            let temperamentDescription = ''; // Переменная для характеристики

            if (scoreA > 4) {
                resultMessage = 'Результаты теста считаются недостоверными, так как ответы были неискренними.';
            } else {
                // Определение типа личности и характеристика
                if (0 <= scoreB && scoreB <= 12 &&  scoreC < 12) {
                    resultMessage += '<h2>Вы флегматик</h2>';
                    temperamentDescription = 'Флегматик — это тип личности, который отличается спокойствием и уравновешенностью. Люди с таким темпераментом обычно не поддаются эмоциональным всплескам и сохраняют самообладание в любых ситуациях. Они обладают высокой степенью терпения и настойчивости, что позволяет им успешно справляться с долгосрочными задачами. Флегматики предпочитают стабильность и рутину, избегая резких изменений в своей жизни. Их аналитический склад ума помогает им принимать взвешенные решения и избегать импульсивных поступков. В общении флегматики обычно сдержанны, но они могут быть очень надежными и верными друзьями. Благодаря своей способности к эмпатии и пониманию, они часто становятся хорошими слушателями и советчиками для окружающих.';
                } else if (0 <= scoreB && scoreB <= 12 && scoreC >=12) {
                    resultMessage += '<h2>Вы меланхолик</h2>';
                    temperamentDescription = 'Меланхолик — это тип личности, который характеризуется глубокой эмоциональностью и склонностью к размышлениям. Люди с таким темпераментом часто воспринимают мир через призму своих чувств, что делает их чувствительными и восприимчивыми к окружающим. Они могут быть склонны к пессимизму и самоанализу, что иногда приводит к чувству грусти или тревоги. Меланхолики обладают высоким уровнем творческого мышления и часто имеют успехи в искусстве и литературе. Несмотря на свою склонность к углубленным размышлениям, они могут быть очень заботливыми и преданными друзьями. Их внимание к деталям и стремление к совершенству делают их надежными и ответственными в работе. Однако меланхолики могут испытывать трудности в принятии решений из-за своей склонности к сомнениям и внутренним конфликтам.';
                } else if (scoreB > 12 && 0 <= scoreC && scoreC < 12) {
                    resultMessage += '<h2>Вы сангвиник</h2>';
                    temperamentDescription = 'Сангвиник — это жизнерадостный и общительный человек, который легко находит общий язык с окружающими. Он обладает оптимистичным взглядом на жизнь и часто становится центром внимания в социальных ситуациях. Люди с этим темпераментом энергичны и способны быстро адаптироваться к изменениям. Сангвиники имеют хорошее чувство юмора и любят делиться позитивом с другими. Однако их импульсивность и недостаток внимания к деталям могут создавать трудности в планировании. Они часто проявляют креативность и находят нестандартные решения, но могут не завершать начатые дела из-за недостатка терпения. В целом, сангвиники — это вдохновляющие и радостные личности, которые приносят счастье в жизнь окружающих.';
                } else if (scoreB > 12 && scoreC >=12) {
                    resultMessage += '<h2>Вы холерик</h2>';
                    temperamentDescription = 'Холерик — это энергичный и активный человек, обладающий сильной волей и решительностью. Он стремится к лидерству и часто берет на себя инициативу в различных ситуациях. Люди с этим темпераментом могут быть импульсивными и эмоциональными, что иногда приводит к вспышкам гнева или нетерпимости. Холерики быстро принимают решения и действуют, но могут недооценивать последствия своих поступков. Они обладают высокой мотивацией и целеустремленностью, что помогает им достигать поставленных целей. Однако их склонность к доминированию и недостаток терпения могут создавать трудности в отношениях с окружающими. В целом, холерики — это динамичные и страстные личности, которые вдохновляют других своим энтузиазмом и энергией.';
                }
            }

            // Отображение результатов на странице
            document.getElementById('results').innerHTML = resultMessage + '<br>' + temperamentDescription || 'Не удалось определить ваши результаты.';
        }

        // Вызываем функцию для подсчета результатов при загрузке страницы
        window.onload = calculateResults;
    </script>

    <style>
        button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #69726a;
            color: #f3f3f3fb;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #5a615a;
        }

        .res2 {
            font-size: 30px;
        }

        .res1 h1 {
            text-align: center;
            font-size: 45px;
            font-family: 'Ysabeau Office Medium';
        }

        .res1 h2 {
            font-size: 40px;
            font-family: 'Ysabeau Office Medium';
        }

        .res1 {
            padding: 50px;
            
        }

        .rep-button {
            padding-top: 70px;
        }

        .repeat-button {
            font-size: 25px;
            font-family: 'Ysabeau Office ExtraBold';
            border-radius: 12px;
            border: none; 
            cursor: pointer;
            transition: box-shadow 0.3s ease;
            align-content: center;
        }
    </style>
</body>
</html>

